<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Anime Generator</h1>
        <button id="btn">
            Generate
        </button>
        <div class="img-container">
            <img class="anime-img" src="https://c.files.bbci.co.uk/F382/production/_123883326_852a3a31-69d7-4849-81c7-8087bf630251.jpg" alt="">
        </div>
        <h3 class="anime-name">drgser</h3>
    </div>
    <script>
        const btnEl = document.getElementById("btn");
        const animeContainerEl = document.querySelector(".container");
        const animeImgEl = document.querySelector(".anime-img");
        const amineNameEl = document.querySelector(".anime-name");

            btnEl.addEventListener("click", async function () {
            try {
                btnEl.disabled = true;
                btnEl.innerText = "Loading...";
                amineNameEl.innerText = "Updating...";
                animeImgEl.src = "spinner.svg";
                const response = await fetch("https://api.catboys.com/img");
                const data = await response.json();
                btnEl.disabled = false;
                btnEl.innerText = "Get Anime";
                animeContainerEl.style.display = "block";
                animeImgEl.src = data.url;
                amineNameEl.innerText = data.artist;
            } catch (error) {
                console.log(error);
                btnEl.disabled = false;
                btnEl.innerText = "Get Anime";
                amineNameEl.innerText = "An error happened, please try again";
            }
            });
    </script>
</body>
</html>